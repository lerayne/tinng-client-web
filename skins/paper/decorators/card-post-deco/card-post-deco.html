<link rel="import" href="../card-base-deco/card-base-style.html">

<dom-module id="card-post-deco">

	<style include="card-base-style">
		:host {
			min-height: 50px;
		}

		::content block-tag {
			cursor:pointer;
		}

		::content block-user {
			position: relative;
		}

		::content block-user::shadow img {
			position: absolute;
			/*top:-4px;*/
		}

		::content block-user::shadow .name {
			margin-left:60px;
		}

		::content #message {
			margin-left:56px;
			padding:6px 4px;
			border:1px dotted transparent;
		}

		::content #message[contenteditable="true"] {
			border-color:#ccc;
		}

		::content blockquote {
			background:#eee url(./images/quote.png) no-repeat 12px 12px;
			margin:0 0 10px 0;
			padding:10px 10px 10px 40px;
		}

		::content blockquote p:first-child {
			margin-top:0;
		}

		::content blockquote p:last-child {
			margin-bottom:0;
		}

		::content blockquote cite {
			color:#777;
			display: block;
		}

		.datetime {
			color:#ccc;
			float:right;
		}

		.info {
			margin-bottom:4px;
		}

		.tags {
			margin-top:10px;
		}

		.menu {
			float:right;
		}
	</style>

	<template>

		<div class="info">
			<content select="block-user"></content>

			<span class="menu">
				<content select=".menu"></content>
			</span>

			<span class="datetime" >
				<span hidden$="[[ computeToBool(model.modified) ]]">
					<content select=".created"></content>
				</span>

				<span hidden$=[[!model.modified]]>
					<text-string>unit.posts.modified</text-string> <content select=".modified"></content>
				</span>
			</span>

		</div>

		<content select="#message"></content>

		<div class="tags" hidden?=[[!!data.topic_id]]>
			<content select="block-tag"></content>
		</div>

	</template>
</dom-module>

<script>
	Polymer({
		is:'card-post-deco',

		behaviors:[tinng.polymerBehavior.Basic]
	})
</script>