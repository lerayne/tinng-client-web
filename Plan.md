#Концепт Tinng №3 (WebComponents-based)

Мы отказываемся от концепции "сверх-легкого" клиента в пользу умеренно-легкого или среднего. Это означает, что 
допускается использование большего числа внешних библиотек (хотя, конечно, тоже не всех подряд).
 
Библиотеки, которые будут использоваться:

+ **jQuery** (подумать о возможности перехода на sizzle)
+ **LoDash**
+ **Polymer**

а также ряд полифилов (например **Promise, EventSource**) для максимально современного кода.
 
Главная новость — **Tinng переходит на концепцию веб-компонентов**, на движке Polymer, написанный авторами Chrome. Это 
означает, что Tinng не будет поддерживать ie9 и ниже.
 
Будет применен паттерн "медиатор" и событийно-ориентированная архитектура. Модули перестанут общаться напрямую и 
использовать методы друг друга. Вместо этого модули будут отправлять и слушать события.
 
Также нужно перейти от коллбеков к промисам в их нативной реализации, с полифиллом.
 
##Обновление дизайна
 
Дизайн будет изменен для приближения к концепции material design от Google. С Polymer это будет особенно удобно.
 
Допускаются анимации, но луше анимировать только через css.
 
Постоянный двухколоночный интерфейс будет заменен на адаптивный. К примеру, если не выбрана ни одна тема, то основной 
экран будет содержать только темы на всю ширину.
 
Тинг будет использовать флексбокс вместо устаревших моделей лейаута.

###К обдумыванию и обсуждению:
   
Остается и углубляется концепция "юнитов". Юнит — самостоятельный интерфейсный блок, теперь будет представлять собой 
отдельный полноценный material-интерфейс (скажем, в узком блоке десктопного интерфейса и в мобильном виде юнит должен 
выглядеть одинаково). Каждый юнит будет иметь 3 возможных состояния: открыт, свернут и приостановлен. В разных 
состояниях подписки на обновление контента могут отличаться.

Общий смысл такой: существует некий мейнфрейм, выполняющий функции лейаута со стороны дизайна и медиатора - с 
программной стороны. В него помещаются юниты, по определенным событиям отдающие сигналы медиатору и принимающие их от 
него. Например, по клику на тему юнит "темы" сигналит наверх что-то вроде "выбрана тема №1". Медиатор по сигналу 
"выбрана тема" броадкастит это сообщение. Юнит "сообщения", услышав это, закрывает предыдущую тему, если она была 
открыта и открывает новую. Также, если он был в состоянии "свернут" или "приостановлен" - по этому сигналу он вновь 
переходит в состояние "открыт".    
   
Перевод состояний сильно зависит от устройства и параметров экрана.
Скажем, по событию "открыть тему такую-то" десктопный широкоэкранный клиент с юнитом "темы" ничего не делает, в узком 
десктопном или планшетном виде юнит "темы" переводится в состояние "свернут", а в мобильном — "приостановлен". 
Кроме того, один из юнитов должен иметь "фокус" — как минимум для управления горячими клавишами.

##Обновление сервера

Будет пересмотрена логика серверной части — возможно общение с сервером будет приведено к полноценному REST API, 
который будет отдельно задокументирован. Для версии сервера с постоянным соединением будет использован EventSource и 
его полифилл для ИЕ вместо веб-сокетов, как предполагалось ранее.


